<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>MyResume</title>
	<link rel="stylesheet" href="./css/style.css">
	<!-- <link rel="stylesheet" href="{{ "../assets/css/style.css.css, " | prepend: site.baseurl }}"> -->
	<script src="//at.alicdn.com/t/font_547672_4zwatzan8jdzpvi.js"></script>
	<style type="text/css">
		.icon {
		   width: 1em; height: 1em;
		   vertical-align: -0.15em;
		   fill: currentColor;
		   overflow: hidden;
		}
	</style>
</head>
<body>
<head>
	<div id="topnavbar" class="top-nav-bar">
		<div class="assist">
			<div class="nav-bar">
				<a class="logo" href="#">
					<span class="mr">Mr</span><span class="lee">Lee</span>
				</a>
			    <div class="nav">
				    <ul class="clearfix">
					    <li><a href="#gy">关于</a></li>
					    <li><a href="#jn">技能</a></li>
					    <li>
					    	<a href="#zp">作品</a>
					    	<ul class="menu">
					    		<li><a href="#">作品1</a></li>
					    		<li><a href="#">作品2</a></li>
					    		<li><a href="#">作品3</a></li>
					    	</ul>
					    </li>
					    <li>
					    	<a href="#">博客</a>
					    	<ul class="menu">
					    		<li><a href="#">博客1</a></li>
					    		<li><a href="#">博客2</a></li>
					    		<li><a href="#">博客3</a></li>
					    	</ul>
					    </li>
					    <li><a href="#">日历</a></li>
					    <li><a href="#">联系方式</a></li>
					    <li><a href="#">其他</a></li>
				    </ul>
			    </div>
			</div>
		</div>
	</div>
	<div class="banane">
		<div class="msk"></div>
	</div>
	<div data-x id="gy" class="usercard">
		<div class="card clearfix">
			<div class="pic">
				<img src="./images/pic.jpg" width:"299" height:"347" alt="pic">
			</div>
			<div class="text clearfix">
				<span class="welcome">
					Hello
					<span class="sj"></span>
				</span>
				<h2>某 某 某</h2>
				<p>未 来 前 端 开 发 工 程 师</p>
				<hr>
				<dl>
					<dt>年龄</dt>
					<dd>99</dd>
					<dt>所在城市</dt>
					<dd>地球</dd>
					<dt>邮箱</dt>
					<dd>moumou@youxiang.com</dd>
					<dt>手机</dt>
					<dd>88888888888</dd>
					<dt>邮箱</dt>
					<dd>moumou@youxiang.com</dd>
					<dt>手机</dt>
					<dd>88888888888</dd>
				</dl>
			</div>
		</div>
			<footer>
				<div class="media">
					<a href="#">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-qq-copy"></use>
						</svg>
					</a>
					<a href="#">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-github"></use>
						</svg>                        
					</a>
					<a href="#">
						<svg class="icon" aria-hidden="true">
								<use xlink:href="#icon-github"></use>
						</svg>
					</a>
					<a href="#">
						<svg class="icon" aria-hidden="true">
							 <use xlink:href="#icon-weibo"></use>
						</svg>
					</a>
					<a href="#">
						<svg class="icon" aria-hidden="true">
							<use xlink:href="#icon-weixin"></use>
						</svg>
					</a>
				</div>
			</footer>
	</div>
	<p class="button-center">
		<a class="button" href="./2.pdf" download target="_blank">下 载 PDF 简 历</a>
	</p>
	<p class="selfIntroduction">
		某某，未来前端工程师，现在在 饥人谷 学习前端课程。<br>
			技能： 前端开发，Rails 开发，Node.js 开发。
	</p>
</head>
<main>
	<section data-x id="jn" class="skill">
		<h2>技 能</h2>
		<ol class="clearfix"> 
			<li>
				<h4>
					HTML 5 & CSS 3 
				</h4>
				<div class="progressBar">
					<div class="progress" style='width: 30%;'></div>
				</div>
			<li>
				<h4>
					jQuery
				</h4>
				<div class="progressBar">
				<div class="progress" style='width: 40%;'></div>
				</div>
			</li>
			<li>
				<h4>
					Vue.js
				</h4>
				<div class="progressBar">
					<div class="progress" style='width: 20%;'></div>
				</div>
			<li>
				<h4>
					React.js
				</h4>
				<div class="progressBar">
					<div class="progress" style='width: 60%;'></div>
				</div>
			<li>
				<h4>
					Node.js
				</h4>
				<div class="progressBar">
					<div class="progress" style='width: 70%;'></div>
				</div>
			</li>
			<li>
				<h4>
					JavaScript
				</h4>
			<div class="progressBar">
				<div class="progress" style='width: 50%;'></div>
			</div>
		</ol>
	</section>
	<section data-x id="zp" class="Portfolio">
		<h2>作 品 集</h2>
		<nav>
			<ol class="clearfix">
				<li id="sy">所有</li>
				<li id="kj">框架</li>
				<li id="ys">原生JS&css</li>
			</ol>
			<div id="portfolioBar" class="bar state-1">
				<div class="bar-inner"></div>
			</div> 
		</nav>
		<script>
			sy.onclick= function(){
				portfolioBar.className = 'bar state-1'
			}
			kj.onclick= function(){
				portfolioBar.className = 'bar state-2'
			}
			ys.onclick= function(){
				portfolioBar.className = 'bar state-3'
			}
		</script>
		<div class="productionOne clearfix">
			<div class="production-l">
				<img src="./images/1.jpg" alt="左边图片">
			</div>
			<div class="production-r">
					<div class="production-top-pic">
						<img src="./images/2.jpg" alt="上边图片">
					</div>
					<div class="production-bottom-pic">
						<img src="./images/3.jpg" alt="下边图片">
					</div>
			</div>
		</div>
	</section>
</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/17.2.0/Tween.min.js"></script>

<script>

    let bjkd = document.querySelectorAll('[data-x]')
		for( let i = 0; i < bjkd.length; i++){
		  bjkd[i].classList.add('offset')
		}
 	ddd()
	window.onscroll =function(x){
		if(window.scrollY > 0){
            topnavbar.classList.add('sticky')
            
		}else{
            topnavbar.classList.remove('sticky')
		}

		ddd()
	}

	function ddd(){
		let bjkd = document.querySelectorAll('[data-x]')
		let minIndex = 0
		for( let i = 1; i < bjkd.length; i++){
		  if(Math.abs(bjkd[i].offsetTop - window.scrollY) < Math.abs(bjkd[minIndex].offsetTop - window.scrollY)){
		  	minIndex = i;
		  }
		}

        bjkd[minIndex].classList.remove('offset')
		let id = bjkd[minIndex].id 
		// console.log(id)
		let a = document.querySelector('a[href="#'+ id +'"]')
		let li = a.parentNode
		let allchildren = li.parentNode.children
		for(i = 0; i < allchildren.length; i++){
			allchildren[i].classList.remove('hilight')
		}
		// console.log(li)
		li.classList.add('hilight')
	}

	let liTags = document.querySelectorAll('.nav > ul>li')
	for (let i = 0; i < liTags.length; i++) {
		
		liTags[i].onmouseenter = function(x){
            x.currentTarget.classList.add('active')
        }    
        
        liTags[i].onmouseleave = function(x){
            x.currentTarget.classList.remove('active')
	   }
	} 
	let aTags = document.querySelectorAll('.nav > ul>li>a') //通过选择器获得a标签们(aTags)
    //多久动一次有此函数决定
	function animate(time) {
        requestAnimationFrame(animate);
        TWEEN.update(time);
    }
    requestAnimationFrame(animate);
    
    for(let i=0; i<aTags.length; i++){  //遍历aTags
		aTags[i].onclick = function(x){ //a标签如果被点击了
            x.preventDefault() //阻止a默认动作
            let a = x.currentTarget //获取监听的a标签
            let href = a.getAttribute('href') //获取监听a标签的href
            let element = document.querySelector(href) //通过href获取对应的元素
            let top = element.offsetTop // 获取元素的top
            
            let currentTop = window.scrollY //当前页面滚动的top
            let targetTop = top - 70 // 页面距离目标top 
            let s =targetTop - currentTop // 目标路程top
            var t = Math.abs((s/100)*300)  //
            if(t > 500){t = 500}               
            var coords = {y: currentTop }; 
            var tween = new TWEEN.Tween(coords) 
             .to({y: targetTop} , t)
             .easing(TWEEN.Easing.Quadratic.InOut)
             .onUpdate(function() {
               window.scrollTo(0,coords.y) 
               // twwen函数会根据起始位置，结束位置和t还有动画方式自动计算Y值
             })
             .start(); 
		}
	} 
</script>
</body>
</html>